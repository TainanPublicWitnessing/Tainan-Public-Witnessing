(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Wefv:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),i=t("p+/S"),u=t("Ouoq"),s=function(){function n(n,l,t,e){this.activatedRoute=n,this.router=l,this.shiftService=t,this.userService=e,this.date="",this.shift_title="",this.site="",this.origin_members=[],this.members=[],this.member_names=[],this.member_select_options=[]}return n.prototype.ngOnInit=function(){var n=this;this.date=this.activatedRoute.snapshot.paramMap.get("date"),this.shift_title=this.activatedRoute.snapshot.paramMap.get("shift_title"),this.site=this.activatedRoute.snapshot.paramMap.get("site"),this.shiftService.getSingleShift(this.date,this.shift_title,this.site).subscribe(function(l){n.members=l.members,n.origin_members=n.members.slice()}),this.userService.getAllUsersName().subscribe(function(l){n.member_names=l.sort()})},n.prototype.trackByIndex=function(n,l){return n},n.prototype.onSelectChange=function(n){var l=this;this.members[n]=this.members[n].trim(),this.member_select_options[n]=this.member_names.filter(function(n){return n.includes(this)},this.members[n]),setTimeout(function(){l.member_select_options[n].unshift("")},250)},n.prototype.edit=function(){for(var n=!0,l=0,t=this.members;l<t.length;l++){var e=t[l];n=n&&(this.member_names.includes(e)||""==e)}if(n){for(var i=0;i<4;i++)this.members[i]!=this.origin_members[i]&&(""!=this.origin_members[i]&&this.userService.deletePersonalShift(this.origin_members[i],this.date),""!=this.members[i]&&this.userService.addPersonalShift(this.members[i],this.date,this.shift_title,this.site),this.origin_members=this.members.slice(),this.shiftService.setShiftByDate(this.date,this.shift_title,this.site,this.members));alert("\u4fee\u6539\u6210\u529f"),this.router.navigate(["home"])}else alert("\u8f38\u5165\u932f\u8aa4")},n}(),o=function(){return function(){}}(),r=t("pMnS"),b=t("oBZk"),a=t("ZZ/e"),h=t("gIcY"),c=t("Ip0R"),m=t("ZYCi"),d=e.rb({encapsulation:0,styles:[[""]],data:{}});function g(n){return e.Ob(0,[(n()(),e.tb(0,0,null,null,2,"ion-select-option",[],null,null,null,b.ob,b.F)),e.sb(1,49152,null,0,a.mb,[e.h,e.k,e.z],null,null),(n()(),e.Mb(2,0,[" "," "]))],null,function(n,l){n(l,2,0,l.context.$implicit)})}function f(n){return e.Ob(0,[(n()(),e.tb(0,0,null,null,18,"ion-item",[],null,null,null,b.eb,b.s)),e.sb(1,49152,null,0,a.G,[e.h,e.k,e.z],null,null),(n()(),e.tb(2,0,null,0,6,"ion-input",[["id","ion-input"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var i=!0,u=n.component;return"ionBlur"===l&&(i=!1!==e.Fb(n,3)._handleBlurEvent(t.target)&&i),"ionChange"===l&&(i=!1!==e.Fb(n,3)._handleInputEvent(t.target)&&i),"ngModelChange"===l&&(i=!1!==(u.members[n.context.index]=t)&&i),i},b.bb,b.r)),e.sb(3,16384,null,0,a.Kb,[e.k],null,null),e.Jb(1024,null,h.c,function(n){return[n]},[a.Kb]),e.sb(5,671744,null,0,h.h,[[8,null],[8,null],[8,null],[6,h.c]],{model:[0,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,h.d,null,[h.h]),e.sb(7,16384,null,0,h.e,[[4,h.d]],null,null),e.sb(8,49152,null,0,a.F,[e.h,e.k,e.z],null,null),(n()(),e.tb(9,0,null,0,9,"ion-select",[["interface","action-sheet"],["mode","md"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,t){var i=!0,u=n.component;return"ionBlur"===l&&(i=!1!==e.Fb(n,10)._handleBlurEvent(t.target)&&i),"ionChange"===l&&(i=!1!==e.Fb(n,10)._handleChangeEvent(t.target)&&i),"ngModelChange"===l&&(i=!1!==(u.members[n.context.index]=t)&&i),"ionChange"===l&&(i=!1!==u.onSelectChange(n.context.index)&&i),i},b.pb,b.E)),e.sb(10,16384,null,0,a.Jb,[e.k],null,null),e.Jb(1024,null,h.c,function(n){return[n]},[a.Jb]),e.sb(12,671744,null,0,h.h,[[8,null],[8,null],[8,null],[6,h.c]],{model:[0,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,h.d,null,[h.h]),e.sb(14,16384,null,0,h.e,[[4,h.d]],null,null),e.sb(15,49152,null,0,a.lb,[e.h,e.k,e.z],{interface:[0,"interface"],interfaceOptions:[1,"interfaceOptions"],mode:[2,"mode"]},null),(n()(),e.ib(16777216,null,0,2,null,g)),e.sb(17,278528,null,0,c.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),e.Hb(0,c.p,[])],function(n,l){var t=l.component;n(l,5,0,t.members[l.context.index]),n(l,12,0,t.members[l.context.index]),n(l,15,0,"action-sheet","customActionSheetOptions","md"),n(l,17,0,e.Nb(l,17,0,e.Fb(l,18).transform(t.member_select_options[l.context.index],1)))},function(n,l){n(l,2,0,e.Fb(l,7).ngClassUntouched,e.Fb(l,7).ngClassTouched,e.Fb(l,7).ngClassPristine,e.Fb(l,7).ngClassDirty,e.Fb(l,7).ngClassValid,e.Fb(l,7).ngClassInvalid,e.Fb(l,7).ngClassPending),n(l,9,0,e.Fb(l,14).ngClassUntouched,e.Fb(l,14).ngClassTouched,e.Fb(l,14).ngClassPristine,e.Fb(l,14).ngClassDirty,e.Fb(l,14).ngClassValid,e.Fb(l,14).ngClassInvalid,e.Fb(l,14).ngClassPending)})}function p(n){return e.Ob(0,[(n()(),e.tb(0,0,null,null,10,"ion-header",[],null,null,null,b.X,b.n)),e.sb(1,49152,null,0,a.A,[e.h,e.k,e.z],null,null),(n()(),e.tb(2,0,null,0,8,"ion-toolbar",[["color","primary"]],null,null,null,b.tb,b.J)),e.sb(3,49152,null,0,a.Ab,[e.h,e.k,e.z],{color:[0,"color"]},null),(n()(),e.tb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,b.N,b.d)),e.sb(5,49152,null,0,a.k,[e.h,e.k,e.z],null,null),(n()(),e.tb(6,0,null,0,1,"ion-menu-button",[],null,null,null,b.ib,b.z)),e.sb(7,49152,null,0,a.Q,[e.h,e.k,e.z],null,null),(n()(),e.tb(8,0,null,0,2,"ion-title",[],null,null,null,b.sb,b.I)),e.sb(9,49152,null,0,a.yb,[e.h,e.k,e.z],null,null),(n()(),e.Mb(-1,0,[" \u4fee\u6539\u73ed\u8868 "])),(n()(),e.tb(11,0,null,null,11,"ion-content",[],null,null,null,b.U,b.k)),e.sb(12,49152,null,0,a.t,[e.h,e.k,e.z],null,null),(n()(),e.tb(13,0,null,0,2,"ion-item",[],null,null,null,b.eb,b.s)),e.sb(14,49152,null,0,a.G,[e.h,e.k,e.z],null,null),(n()(),e.Mb(15,0,[" "," "," "," "])),(n()(),e.tb(16,0,null,0,3,"ion-list",[],null,null,null,b.hb,b.w)),e.sb(17,49152,null,0,a.N,[e.h,e.k,e.z],null,null),(n()(),e.ib(16777216,null,0,1,null,f)),e.sb(19,278528,null,0,c.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.tb(20,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.edit()&&e),e},b.M,b.c)),e.sb(21,49152,null,0,a.j,[e.h,e.k,e.z],null,null),(n()(),e.Mb(-1,0,[" \u78ba\u8a8d\u4fee\u6539 "]))],function(n,l){var t=l.component;n(l,3,0,"primary"),n(l,19,0,t.members,t.trackByIndex)},function(n,l){var t=l.component;n(l,15,0,t.date,t.shift_title,t.site)})}function v(n){return e.Ob(0,[(n()(),e.tb(0,0,null,null,1,"app-shift-editor",[],null,null,null,p,d)),e.sb(1,114688,null,0,s,[m.a,m.m,i.a,u.a],null,null)],function(n,l){n(l,1,0)},null)}var C=e.pb("app-shift-editor",s,v,{},{},[]);t.d(l,"ShiftEditorPageModuleNgFactory",function(){return _});var _=e.qb(o,[],function(n){return e.Cb([e.Db(512,e.j,e.bb,[[8,[r.a,C]],[3,e.j],e.x]),e.Db(4608,c.m,c.l,[e.u,[2,c.t]]),e.Db(4608,h.j,h.j,[]),e.Db(4608,a.b,a.b,[e.z,e.g]),e.Db(4608,a.Eb,a.Eb,[a.b,e.j,e.q]),e.Db(4608,a.Hb,a.Hb,[a.b,e.j,e.q]),e.Db(1073742336,c.b,c.b,[]),e.Db(1073742336,h.i,h.i,[]),e.Db(1073742336,h.b,h.b,[]),e.Db(1073742336,a.Cb,a.Cb,[]),e.Db(1073742336,m.o,m.o,[[2,m.t],[2,m.m]]),e.Db(1073742336,o,o,[]),e.Db(1024,m.k,function(){return[[{path:"",component:s}]]},[])])})}}]);